{"chunk":0,"numChunks":1,"fileHash":"xI3IEOw7aY+IVqArnTMmmTH0kIy2NI9DkioW9QP6LHY=","filePath":"backend/server.js","content":"const express = require('express');\r\nconst cors = require('cors');\r\nconst mongoose = require('mongoose');\r\n\r\nconst app = express();\r\nconst PORT = process.env.PORT || 3000;\r\n\r\n// Middleware\r\napp.use(cors());\r\napp.use(express.json());\r\n\r\n// MongoDB connection\r\nMONGO_URL = 'mongodb+srv://cordxop:i9TJrAPGzocxut3O@cluster0.v2my0.mongodb.net/?retryWrites=true&w=majority&appName=Cluster0'\r\n\r\n\r\nmongoose.connect(MONGO_URL, {\r\n  useNewUrlParser: true,\r\n  useUnifiedTopology: true,\r\n  serverSelectionTimeoutMS: 5000, // Increase timeout to 5 seconds\r\n}).then(() => {\r\n  console.log('MongoDB connected');\r\n}).catch((err) => {\r\n  console.error('MongoDB connection error:', err);\r\n});\r\n\r\n\r\n\r\n// Import and use the API routes from the separate file\r\nconst projectRoutes = require('./api/project');\r\napp.use('/api/project', projectRoutes);\r\n\r\n\r\n// Import and use the authentication routes from the separate file\r\nconst registerRouter = require('./routes/register');\r\napp.use('/api/auth', registerRouter);\r\n\r\n// Import and use the authentication routes from the separate file\r\nconst loginRouter = require('./routes/login');\r\napp.use('/api/auth', loginRouter);\r\n\r\nconst searchTrailsRouter = require('./routes/searchTrails');\r\napp.use('/api/trail', searchTrailsRouter);\r\n\r\n// Start the server and listen on the specified port\r\napp.listen(PORT, () => {\r\n  console.log(`Server running on port ${PORT}`);\r\n});\r\n\r\nmodule.exports = app"}