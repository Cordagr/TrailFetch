{"chunk":0,"numChunks":1,"fileHash":"tybxFFATe9mE2aUd4JR5x8yFlmwA0q2EYE0fYoUl/TA=","filePath":"backend/routes/trailComments.js","content":"const express = require('express');\r\nconst trail = require('../models/trail');\r\n\r\nconst trailCommentsRouter = express.Router();\r\n\r\n// Get comments for a specific trail\r\ntrailCommentsRouter.get('/:trailId/getComments', async (req, res) => {\r\n  try {\r\n    const trail = await trail.findById(req.params.trailId);\r\n    if (!trail) {\r\n      return res.status(404).json({ error: 'Trail not found' });\r\n    }\r\n    res.json(trail.comments);\r\n  } catch (err) {\r\n    res.status(500).json({ error: 'Server error' });\r\n  }\r\n});\r\n\r\n// Add a new comment to a specific trail\r\ntrailCommentsRouter.post('/:trailId/postCommet', async (req, res) => {\r\n  const { username, text } = req.body;\r\n  try {\r\n    const trail = await trail.findById(req.params.trailId);\r\n    if (!trail) {\r\n      return res.status(404).json({ error: 'Trail not found' });\r\n    }\r\n    const newComment = { username, text };\r\n    trail.comments.push(newComment);\r\n    await trail.save();\r\n    res.json(newComment);\r\n  } catch (err) {\r\n    res.status(500).json({ error: 'Server error' });\r\n  }\r\n});\r\n\r\nmodule.exports = trailCommentsRouter;"}